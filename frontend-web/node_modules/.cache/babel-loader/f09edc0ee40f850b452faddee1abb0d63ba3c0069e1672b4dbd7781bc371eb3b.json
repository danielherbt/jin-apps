{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst POS_API_BASE_URL = process.env.REACT_APP_POS_API_URL || 'http://localhost:8001';\nconst getAuthHeaders = () => ({\n  Authorization: `Bearer ${localStorage.getItem('token')}`\n});\nexport const getProducts = createAsyncThunk('inventory/getProducts', async (params = {}, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`${POS_API_BASE_URL}/api/v1/inventory/`, {\n      headers: getAuthHeaders(),\n      params\n    });\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const createProduct = createAsyncThunk('inventory/createProduct', async (productData, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.post(`${POS_API_BASE_URL}/api/v1/inventory/`, productData, {\n      headers: getAuthHeaders()\n    });\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nconst inventorySlice = createSlice({\n  name: 'inventory',\n  initialState: {\n    products: [],\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getProducts.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(getProducts.fulfilled, (state, action) => {\n      state.loading = false;\n      state.products = action.payload;\n    }).addCase(getProducts.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(createProduct.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(createProduct.fulfilled, (state, action) => {\n      state.loading = false;\n      state.products.push(action.payload);\n    }).addCase(createProduct.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default inventorySlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","POS_API_BASE_URL","process","env","REACT_APP_POS_API_URL","getAuthHeaders","Authorization","localStorage","getItem","getProducts","params","rejectWithValue","response","get","headers","data","error","createProduct","productData","post","inventorySlice","name","initialState","products","loading","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","reducer"],"sources":["/home/daniel/Documents/frontend-web/src/store/slices/inventorySlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst POS_API_BASE_URL = process.env.REACT_APP_POS_API_URL || 'http://localhost:8001';\n\nconst getAuthHeaders = () => ({\n  Authorization: `Bearer ${localStorage.getItem('token')}`,\n});\n\nexport const getProducts = createAsyncThunk(\n  'inventory/getProducts',\n  async (params = {}, { rejectWithValue }) => {\n    try {\n      const response = await axios.get(`${POS_API_BASE_URL}/api/v1/inventory/`, {\n        headers: getAuthHeaders(),\n        params,\n      });\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const createProduct = createAsyncThunk(\n  'inventory/createProduct',\n  async (productData, { rejectWithValue }) => {\n    try {\n      const response = await axios.post(`${POS_API_BASE_URL}/api/v1/inventory/`, productData, {\n        headers: getAuthHeaders(),\n      });\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nconst inventorySlice = createSlice({\n  name: 'inventory',\n  initialState: {\n    products: [],\n    loading: false,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(getProducts.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(getProducts.fulfilled, (state, action) => {\n        state.loading = false;\n        state.products = action.payload;\n      })\n      .addCase(getProducts.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(createProduct.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(createProduct.fulfilled, (state, action) => {\n        state.loading = false;\n        state.products.push(action.payload);\n      })\n      .addCase(createProduct.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      });\n  },\n});\n\nexport default inventorySlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}