INFO:     Will watch for changes in these directories: ['/home/daniel/Documents/user-service']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [66766] using WatchFiles
INFO:     Started server process [66769]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
✅ Auth router imported successfully
✅ Auth router included in FastAPI app
INFO:     127.0.0.1:48192 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60084 - "POST /api/v1/auth/login HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:46972 - "GET /api/v1/auth/login HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:44100 - "GET /api/v1/login HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:54990 - "GET /api/v1/users HTTP/1.1" 200 OK
INFO:     127.0.0.1:50334 - "GET /api/v1/health HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:54800 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57778 - "GET /api/v1/auth HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57790 - "POST /api/v1/auth HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51794 - "POST /api/v1/auth/ HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:44904 - "POST /health HTTP/1.1" 405 Method Not Allowed
INFO:     127.0.0.1:34162 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58982 - "GET /register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:53818 - "POST /register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:33542 - "POST /api/v1/auth/users HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:33542 - "GET /api/v1/auth/users HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60488 - "GET /api/v1/auth/login HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:58340 - "POST /token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:49850 - "POST /auth/register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:55106 - "POST /api/v1/auth/register HTTP/1.1" 422 Unprocessable Content
INFO:     127.0.0.1:51458 - "POST /api/v1/auth/token HTTP/1.1" 422 Unprocessable Content
INFO:     127.0.0.1:45302 - "POST /api/v1/auth/health HTTP/1.1" 405 Method Not Allowed
INFO:     127.0.0.1:45302 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50664 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:44004 - "GET /api/v1/auth/users HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:42166 - "GET /api/v1/users HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/auth_backup.py', 'app/api/v1/endpoints/auth.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [66769]
Traceback (most recent call last):
  File "/home/daniel/Documents/user-service/app/main.py", line 14, in <module>
    from app.api.v1.endpoints.auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/__init__.py", line 2, in <module>
    from .endpoints.auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/__init__.py", line 2, in <module>
    from .auth import router as auth_router
ModuleNotFoundError: No module named 'app.api.v1.endpoints.auth'
INFO:     Started server process [67867]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/aut2.py', 'app/api/v1/endpoints/auth.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [67867]
❌ Failed to import auth router: No module named 'app.api.v1.endpoints.auth'
Current working directory: /home/daniel/Documents/user-service
Python path: ['/home/daniel/Documents/user-service', '/home/daniel/Documents/user-service', '/usr/lib/python313.zip', '/usr/lib/python3.13', '/usr/lib/python3.13/lib-dynload', '/home/daniel/Documents/venv/lib/python3.13/site-packages', '/home/daniel/Documents/user-service']
❌ Warning: Auth router was not included in FastAPI app
INFO:     Started server process [67870]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
✅ Auth router imported successfully
✅ Auth router included in FastAPI app
INFO:     127.0.0.1:35424 - "GET /api/v1/auth/users HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:46490 - "GET /api/v1/auth/login HTTP/1.1" 405 Method Not Allowed
INFO:     127.0.0.1:46490 - "POST /api/v1/auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 109, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 387, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/auth.py", line 38, in login
    if not user or not verify_password(login_data.password, user.hashed_password):
                       ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/user-service/app/core/security.py", line 22, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 2343, in verify
    record = self._get_or_identify_record(hash, scheme, category)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 2031, in _get_or_identify_record
    return self._identify_record(hash, category)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 1132, in identify_record
    raise exc.UnknownHashError("hash could not be identified")
passlib.exc.UnknownHashError: hash could not be identified
INFO:     127.0.0.1:38804 - "POST /api/v1/auth/login HTTP/1.1" 422 Unprocessable Content
INFO:     127.0.0.1:55310 - "POST /api/v1/auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 109, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 387, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/auth.py", line 38, in login
    if not user or not verify_password(login_data.password, user.hashed_password):
                       ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/user-service/app/core/security.py", line 22, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 2343, in verify
    record = self._get_or_identify_record(hash, scheme, category)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 2031, in _get_or_identify_record
    return self._identify_record(hash, category)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 1132, in identify_record
    raise exc.UnknownHashError("hash could not be identified")
passlib.exc.UnknownHashError: hash could not be identified
INFO:     127.0.0.1:60404 - "POST /api/v1/auth/login HTTP/1.1" 422 Unprocessable Content
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/auth.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [67870]
Traceback (most recent call last):
  File "/home/daniel/Documents/user-service/app/main.py", line 14, in <module>
    from app.api.v1.endpoints.auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/__init__.py", line 2, in <module>
    from .endpoints.auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/__init__.py", line 2, in <module>
    from .auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/auth.py", line 39
    if not user
               ^
SyntaxError: expected ':'
INFO:     Started server process [68103]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
❌ Unexpected error importing auth router: expected ':' (auth.py, line 39)
❌ Warning: Auth router was not included in FastAPI app
INFO:     127.0.0.1:53552 - "POST /api/v1/auth/login HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:37886 - "POST /api/v1/auth/login HTTP/1.1" 404 Not Found
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/auth.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68103]
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/auth.py'. Reloading...
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/auth.py'. Reloading...
Traceback (most recent call last):
  File "/home/daniel/Documents/user-service/app/main.py", line 14, in <module>
    from app.api.v1.endpoints.auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/__init__.py", line 2, in <module>
    from .endpoints.auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/__init__.py", line 2, in <module>
    from .auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/auth.py", line 39
    if not user
               ^
SyntaxError: expected ':'
INFO:     Started server process [68203]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68203]
❌ Unexpected error importing auth router: expected ':' (auth.py, line 39)
❌ Warning: Auth router was not included in FastAPI app
Traceback (most recent call last):
  File "/home/daniel/Documents/user-service/app/main.py", line 14, in <module>
    from app.api.v1.endpoints.auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/__init__.py", line 2, in <module>
    from .endpoints.auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/__init__.py", line 2, in <module>
    from .auth import router as auth_router
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/auth.py", line 39
    if not user
               ^
SyntaxError: expected ':'
INFO:     Started server process [68250]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
❌ Unexpected error importing auth router: expected ':' (auth.py, line 39)
❌ Warning: Auth router was not included in FastAPI app
INFO:     127.0.0.1:51840 - "POST /login HTTP/1.1" 404 Not Found
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/auth.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68250]
INFO:     Started server process [68304]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
✅ Auth router imported successfully
✅ Auth router included in FastAPI app
INFO:     127.0.0.1:36058 - "POST /login HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:46850 - "POST /api/v1/auth/login HTTP/1.1" 422 Unprocessable Content
INFO:     127.0.0.1:32822 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:42244 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:55386 - "GET /api/v1/auth/users HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:35134 - "GET /api/v1/auth/users HTTP/1.1" 401 Unauthorized
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/auth.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68304]
INFO:     Started server process [68793]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
✅ Auth router imported successfully
✅ Auth router included in FastAPI app
INFO:     127.0.0.1:59244 - "POST /api/v1/auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 109, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 387, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/auth.py", line 38, in login
    if not user or not verify_password(login_data.password, user.hashed_password):
                       ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/user-service/app/core/security.py", line 22, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 2343, in verify
    record = self._get_or_identify_record(hash, scheme, category)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 2031, in _get_or_identify_record
    return self._identify_record(hash, category)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 1132, in identify_record
    raise exc.UnknownHashError("hash could not be identified")
passlib.exc.UnknownHashError: hash could not be identified
INFO:     127.0.0.1:55186 - "POST /api/v1/auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1133, in __call__
    await super().__call__(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 123, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 109, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 387, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/fastapi/routing.py", line 288, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/user-service/app/api/v1/endpoints/auth.py", line 38, in login
    if not user or not verify_password(login_data.password, user.hashed_password):
                       ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/user-service/app/core/security.py", line 22, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 2343, in verify
    record = self._get_or_identify_record(hash, scheme, category)
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 2031, in _get_or_identify_record
    return self._identify_record(hash, category)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/daniel/Documents/venv/lib/python3.13/site-packages/passlib/context.py", line 1132, in identify_record
    raise exc.UnknownHashError("hash could not be identified")
passlib.exc.UnknownHashError: hash could not be identified
WARNING:  WatchFiles detected changes in 'app/api/v1/endpoints/auth.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68793]
INFO:     Started server process [68978]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
✅ Auth router imported successfully
✅ Auth router included in FastAPI app
INFO:     127.0.0.1:43148 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:53164 - "GET /api/v1/auth/roles HTTP/1.1" 200 OK
INFO:     127.0.0.1:42484 - "GET /api/v1/auth/roles HTTP/1.1" 200 OK
INFO:     127.0.0.1:59752 - "GET /api/v1/auth/users HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:47704 - "GET /api/v1/auth/system-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:51416 - "GET /api/v1/auth/permissions HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:47272 - "GET /api/v1/auth/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:35854 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:44272 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:44272 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:44272 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:44272 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:54440 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:57354 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:52886 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:52886 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:52886 - "GET /api/v1/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:50342 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:43062 - "GET /api/v1/auth/users HTTP/1.1" 200 OK
INFO:     127.0.0.1:55210 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57508 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:58658 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:34204 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:38098 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:48186 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57114 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57142 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52272 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:33108 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:39784 - "POST /api/v1/auth/me HTTP/1.1" 405 Method Not Allowed
INFO:     127.0.0.1:39784 - "GET /api/v1/auth/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57186 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:37556 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:37732 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60432 - "GET /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57078 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:35168 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:48068 - "POST /api/v1/auth/token HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:44362 - "POST /api/v1/auth/login HTTP/1.1" 422 Unprocessable Content
